{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "lambda:CreateFunction",
                "lambda:TagResource",
                "iam:ListRoleTags",
                "s3:GetObjectVersionTagging",
                "dynamodb:DescribeContributorInsights",
                "dynamodb:RestoreTableToPointInTime",
                "iam:CreateRole",
                "lambda:GetFunctionConfiguration",
                "iam:AttachRolePolicy",
                "iam:PutRolePolicy",
                "dynamodb:DeleteTable",
                "dynamodb:UpdateTableReplicaAutoScaling",
                "s3:GetObjectAcl",
                "iam:DetachRolePolicy",
                "dynamodb:DescribeTable",
                "s3:GetObjectVersionAcl",
                "dynamodb:GetItem",
                "dynamodb:DescribeContinuousBackups",
                "lambda:DeleteFunction",
                "s3:PutObjectTagging",
                "s3:DeleteObject",
                "s3:DeleteObjectTagging",
                "lambda:UpdateFunctionEventInvokeConfig",
                "iam:GetRole",
                "dynamodb:BatchGetItem",
                "dynamodb:UpdateTimeToLive",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "lambda:InvokeFunction",
                "iam:DeleteRole",
                "dynamodb:Scan",
                "dynamodb:UpdateItem",
                "s3:ListMultipartUploadParts",
                "dynamodb:CreateTable",
                "lambda:UpdateFunctionCode",
                "s3:PutObject",
                "s3:GetObject",
                "lambda:ListFunctionEventInvokeConfigs",
                "lambda:GetFunctionConcurrency",
                "dynamodb:GetShardIterator",
                "iam:GetRolePolicy",
                "dynamodb:UpdateTable",
                "dynamodb:GetRecords",
                "dynamodb:DescribeTableReplicaAutoScaling",
                "s3:GetBucketTagging",
                "iam:UntagRole",
                "lambda:ListVersionsByFunction",
                "dynamodb:DeleteItem",
                "iam:TagRole",
                "dynamodb:ListTagsOfResource",
                "dynamodb:CreateTableReplica",
                "s3:ListBucket",
                "dynamodb:UpdateContributorInsights",
                "dynamodb:CreateBackup",
                "lambda:UntagResource",
                "lambda:PutFunctionConcurrency",
                "dynamodb:UpdateContinuousBackups",
                "s3:GetObjectVersionTorrent",
                "iam:PassRole",
                "s3:AbortMultipartUpload",
                "lambda:ListTags",
                "s3:PutBucketTagging",
                "iam:DeleteRolePolicy",
                "lambda:PutFunctionEventInvokeConfig",
                "s3:GetObjectTagging",
                "lambda:DeleteFunctionEventInvokeConfig",
                "s3:ListBucketMultipartUploads",
                "dynamodb:ConditionCheckItem",
                "lambda:GetFunction",
                "lambda:UpdateFunctionConfiguration",
                "s3:PutObjectVersionTagging",
                "dynamodb:Query",
                "dynamodb:DescribeStream",
                "dynamodb:DeleteTableReplica",
                "dynamodb:DescribeTimeToLive",
                "iam:TagUser",
                "iam:UntagUser",
                "s3:GetObjectTorrent",
                "lambda:AddPermission",
                "lambda:GetFunctionEventInvokeConfig",
                "dynamodb:RestoreTableFromBackup",
                "lambda:DeleteFunctionConcurrency",
                "lambda:RemovePermission",
                "dynamodb:DeleteBackup",
                "s3:GetObjectVersion",
                "iam:ListUserTags"
            ],
            "Resource": [
                "arn:aws:lambda:*:*:function:helpful-neighbors-backend*",
                "arn:aws:iam::*:role/helpful-neighbors-backend*",
                "arn:aws:s3:::helpful-neighbors-backend",
                "arn:aws:s3:::helpful-neighbors-backend/*",
                "arn:aws:dynamodb:*:*:table/*EmailTable*/index/*",
                "arn:aws:dynamodb:*:*:table/*ListingTable*/index/*",
                "arn:aws:dynamodb:*:*:table/*EmailTable*",
                "arn:aws:dynamodb:*:*:table/*ListingTable*",
                "arn:aws:dynamodb:*:*:table/*EmailTable*/backup/*",
                "arn:aws:dynamodb:*:*:table/*ListingTable*/backup/*",
                "arn:aws:dynamodb:*:*:table/*EmailTable*/stream/*",
                "arn:aws:dynamodb:*:*:table/*ListingTable*/stream/*"
            ]
        },
        {
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": [
                "cloudformation:CreateUploadBucket",
                "cloudformation:DescribeStackDriftDetectionStatus",
                "cloudformation:ListExports",
                "cloudformation:ListStacks",
                "cloudformation:ListImports",
                "lambda:ListFunctions",
                "dynamodb:ListTables",
                "apigateway:PUT",
                "dynamodb:PurchaseReservedCapacityOfferings",
                "dynamodb:ListStreams",
                "cloudformation:EstimateTemplateCost",
                "apigateway:DELETE",
                "dynamodb:DescribeReservedCapacityOfferings",
                "dynamodb:DescribeReservedCapacity",
                "apigateway:PATCH",
                "cloudformation:DescribeAccountLimits",
                "apigateway:POST",
                "apigateway:GET",
                "dynamodb:DescribeLimits",
                "cloudformation:CreateStackSet",
                "cloudformation:ValidateTemplate"
            ],
            "Resource": "*"
        },
        {
            "Sid": "VisualEditor2",
            "Effect": "Allow",
            "Action": "cloudformation:*",
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*:*",
                "arn:aws:cloudformation:us-east-1:aws:transform/Serverless-2016-10-31",
                "arn:aws:cloudformation:*:185376360597:stack/helpful-neighbors-backend/*"
            ]
        }
    ]
}
